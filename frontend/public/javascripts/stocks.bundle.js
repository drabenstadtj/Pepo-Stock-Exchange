document.addEventListener("DOMContentLoaded",(()=>{const e=window.apiUrl,t=document.getElementById("stocks-body");async function n(){try{const o=await fetch(`${e}/stocks/`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);n=await o.json(),console.log("Updating stocks table..."),t.innerHTML="",n.forEach((e=>{const n=document.createElement("tr"),o=document.createElement("td");o.classList.add("stock-popup");const a=document.createElement("span");a.textContent=e.symbol;const c=document.createElement("div");c.classList.add("popuptext"),c.innerHTML=`\n        <h3>${e.symbol}</h3>\n        <p>Name: ${e.name}</p>\n        <p>Sector: ${e.sector}</p>\n        <p>Low: $${e.low.toFixed(2)}</p>\n        <p>High: $${e.high.toFixed(2)}</p>\n      `,o.appendChild(a),o.appendChild(c),n.appendChild(o);const d=document.createElement("td");d.textContent="$"+e.price.toFixed(2),n.appendChild(d);const s=document.createElement("td");s.textContent=e.change.toFixed(2),s.classList.add(e.change>=0?"positive-change":"negative-change"),n.appendChild(s),t.appendChild(n)}))}catch(e){console.error("Error fetching stocks data:",e)}var n}n(),setInterval(n,1e4)}));